'use strict';

goog.provide('grrUi.forms');
goog.provide('grrUi.forms.formsModule');

goog.require('grrUi.core');                          // USE: coreModule
goog.require('grrUi.core.semanticRegistryService');  // USE: SemanticRegistryService
goog.require('grrUi.forms.aff4AttributeFormDirective');  // USE: Aff4AttributeFormDirective
goog.require('grrUi.forms.autoGeneratedAes128KeyFormDirective');  // USE: AutoGeneratedAES128KeyFormDirective
goog.require('grrUi.forms.bytesFormDirective');  // USE: BytesFormDirective
goog.require('grrUi.forms.clientLabelFormDirective');  // USE: ClientLabelFormDirective
goog.require('grrUi.forms.datetimeFormDirective');  // USE: DatetimeFormDirective
goog.require('grrUi.forms.dictFormDirective');      // USE: DictFormDirective
goog.require('grrUi.forms.durationFormDirective');  // USE: DurationFormDirective
goog.require('grrUi.forms.foremanLabelRuleFormDirective');  // USE: ForemanLabelRuleFormDirective
goog.require('grrUi.forms.globExpressionFormDirective');  // USE: GlobExpressionFormDirective
goog.require('grrUi.forms.globExpressionsListFormDirective');  // USE: GlobExpressionsListFormDirective
goog.require('grrUi.forms.outputPluginDescriptorFormDirective');  // USE: OutputPluginDescriptorFormDirective
goog.require('grrUi.forms.semanticEnumFormDirective');  // USE: SemanticEnumFormDirective
goog.require('grrUi.forms.semanticPrimitiveFormDirective');  // USE: SemanticPrimitiveFormDirective
goog.require('grrUi.forms.semanticProtoFormDirective');  // USE: SemanticProtoFormDirective
goog.require('grrUi.forms.semanticProtoRepeatedFieldFormDirective');  // USE: SemanticProtoRepeatedFieldFormDirective
goog.require('grrUi.forms.semanticProtoSingleFieldFormDirective');  // USE: SemanticProtoSingleFieldFormDirective
goog.require('grrUi.forms.semanticProtoUnionFormDirective');  // USE: SemanticProtoUnionFormDirective
goog.require('grrUi.forms.semanticValueFormDirective');  // USE: SemanticValueFormDirective
goog.require('grrUi.forms.timerangeFormDirective');  // USE: TimerangeFormDirective


/**
 * Angular module for forms-related UI.
 */
grrUi.forms.formsModule = angular.module('grrUi.forms', [grrUi.core.coreModule.name,
                                                    'ui.bootstrap']);


grrUi.forms.formsModule.service(
    grrUi.core.semanticRegistryService.SemanticRegistryService
        .forms_service_name,
    grrUi.core.semanticRegistryService.SemanticRegistryService);
grrUi.forms.formsModule.service(
    grrUi.core.semanticRegistryService.SemanticRegistryService
        .repeated_forms_service_name,
    grrUi.core.semanticRegistryService.SemanticRegistryService);


grrUi.forms.formsModule.directive(
    grrUi.forms.aff4AttributeFormDirective.Aff4AttributeFormDirective
        .directive_name,
    grrUi.forms.aff4AttributeFormDirective.Aff4AttributeFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.autoGeneratedAes128KeyFormDirective
        .AutoGeneratedAES128KeyFormDirective.directive_name,
    grrUi.forms.autoGeneratedAes128KeyFormDirective
        .AutoGeneratedAES128KeyFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.bytesFormDirective.BytesFormDirective.directive_name,
    grrUi.forms.bytesFormDirective.BytesFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.clientLabelFormDirective.ClientLabelFormDirective.directive_name,
    grrUi.forms.clientLabelFormDirective.ClientLabelFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.datetimeFormDirective.DatetimeFormDirective.directive_name,
    grrUi.forms.datetimeFormDirective.DatetimeFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.dictFormDirective.DictFormDirective.directive_name,
    grrUi.forms.dictFormDirective.DictFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.durationFormDirective.DurationFormDirective.directive_name,
    grrUi.forms.durationFormDirective.DurationFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.globExpressionFormDirective.GlobExpressionFormDirective
        .directive_name,
    grrUi.forms.globExpressionFormDirective.GlobExpressionFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.globExpressionsListFormDirective.GlobExpressionsListFormDirective
        .directive_name,
    grrUi.forms.globExpressionsListFormDirective.GlobExpressionsListFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.outputPluginDescriptorFormDirective
        .OutputPluginDescriptorFormDirective.directive_name,
    grrUi.forms.outputPluginDescriptorFormDirective
        .OutputPluginDescriptorFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.semanticEnumFormDirective.SemanticEnumFormDirective
        .directive_name,
    grrUi.forms.semanticEnumFormDirective.SemanticEnumFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.foremanLabelRuleFormDirective.ForemanLabelRuleFormDirective
        .directive_name,
    grrUi.forms.foremanLabelRuleFormDirective.ForemanLabelRuleFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.semanticPrimitiveFormDirective.SemanticPrimitiveFormDirective
        .directive_name,
    grrUi.forms.semanticPrimitiveFormDirective.SemanticPrimitiveFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.semanticProtoFormDirective.SemanticProtoFormDirective
        .directive_name,
    grrUi.forms.semanticProtoFormDirective.SemanticProtoFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.semanticProtoSingleFieldFormDirective
        .SemanticProtoSingleFieldFormDirective.directive_name,
    grrUi.forms.semanticProtoSingleFieldFormDirective
        .SemanticProtoSingleFieldFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.semanticProtoRepeatedFieldFormDirective
        .SemanticProtoRepeatedFieldFormDirective.directive_name,
    grrUi.forms.semanticProtoRepeatedFieldFormDirective
        .SemanticProtoRepeatedFieldFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.semanticProtoUnionFormDirective
        .SemanticProtoUnionFormDirective.directive_name,
    grrUi.forms.semanticProtoUnionFormDirective
        .SemanticProtoUnionFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.semanticValueFormDirective.SemanticValueFormDirective
        .directive_name,
    grrUi.forms.semanticValueFormDirective.SemanticValueFormDirective);
grrUi.forms.formsModule.directive(
    grrUi.forms.timerangeFormDirective.TimerangeFormDirective.directive_name,
    grrUi.forms.timerangeFormDirective.TimerangeFormDirective);


grrUi.forms.formsModule.run(function(grrSemanticFormDirectivesRegistryService) {
  var registry = grrSemanticFormDirectivesRegistryService;

  registry.registerDirective(
      grrUi.forms.aff4AttributeFormDirective.Aff4AttributeFormDirective
          .semantic_type,
      grrUi.forms.aff4AttributeFormDirective.Aff4AttributeFormDirective);
  registry.registerDirective(
      grrUi.forms.autoGeneratedAes128KeyFormDirective
          .AutoGeneratedAES128KeyFormDirective.semantic_type,
      grrUi.forms.autoGeneratedAes128KeyFormDirective
          .AutoGeneratedAES128KeyFormDirective);
  registry.registerDirective(
      grrUi.forms.bytesFormDirective.BytesFormDirective.semantic_type,
      grrUi.forms.bytesFormDirective.BytesFormDirective);
  registry.registerDirective(
      grrUi.forms.datetimeFormDirective.DatetimeFormDirective.semantic_type,
      grrUi.forms.datetimeFormDirective.DatetimeFormDirective);

  var dictSemanticTypes =
      grrUi.forms.dictFormDirective.DictFormDirective.semantic_types;
  angular.forEach(dictSemanticTypes, function(dictSemanticType) {
    registry.registerDirective(
        dictSemanticType,
        grrUi.forms.dictFormDirective.DictFormDirective);
  });

  registry.registerDirective(
      grrUi.forms.durationFormDirective.DurationFormDirective.semantic_type,
      grrUi.forms.durationFormDirective.DurationFormDirective);

  registry.registerDirective(
      grrUi.forms.globExpressionFormDirective.GlobExpressionFormDirective
          .semantic_type,
      grrUi.forms.globExpressionFormDirective.GlobExpressionFormDirective);

  registry.registerDirective(
      grrUi.forms.outputPluginDescriptorFormDirective
          .OutputPluginDescriptorFormDirective.semantic_type,
      grrUi.forms.outputPluginDescriptorFormDirective
          .OutputPluginDescriptorFormDirective);

  var primitiveSemanticTypes =
      grrUi.forms.semanticPrimitiveFormDirective.SemanticPrimitiveFormDirective
      .semantic_types;
  angular.forEach(primitiveSemanticTypes, function(primitiveSemanticType) {
    registry.registerDirective(
        primitiveSemanticType,
        grrUi.forms.semanticPrimitiveFormDirective.
            SemanticPrimitiveFormDirective);
  });

  registry.registerDirective(
      grrUi.forms.semanticEnumFormDirective.SemanticEnumFormDirective
          .semantic_type,
      grrUi.forms.semanticEnumFormDirective.SemanticEnumFormDirective);
  registry.registerDirective(
      grrUi.forms.foremanLabelRuleFormDirective.ForemanLabelRuleFormDirective
          .semantic_type,
      grrUi.forms.foremanLabelRuleFormDirective.ForemanLabelRuleFormDirective);
  registry.registerDirective(
      grrUi.forms.semanticProtoFormDirective.SemanticProtoFormDirective
          .semantic_type,
      grrUi.forms.semanticProtoFormDirective.SemanticProtoFormDirective);
});

grrUi.forms.formsModule.run(function(grrSemanticRepeatedFormDirectivesRegistryService) {
  var registry = grrSemanticRepeatedFormDirectivesRegistryService;

  registry.registerDirective(
      grrUi.forms.globExpressionsListFormDirective
        .GlobExpressionsListFormDirective.semantic_type,
      grrUi.forms.globExpressionsListFormDirective
        .GlobExpressionsListFormDirective);
});
